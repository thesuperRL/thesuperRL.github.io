const SongDict = [
    {
        url: "https://soundcloud.com/nyaliee/wah-wah-world-project-sekai-full-ver",
        answer:
            "Wah Wah World - Minori Hanasato, Kohane Azusawa, & Hatsune Miku (Giga, Mitchie M)",
    },
    {
        url: "https://soundcloud.com/ldq5kidtnspc/happy-halloween-more-more-jump",
        answer: "Happy Halloween - MORE MORE JUMP! & Rin Kagamine (Junky)",
    },
    {
        url: "https://soundcloud.com/clicky1/reproduction-by-25-ji-night",
        answer: "Saisei - 25ji, Night Cord de. & Rin Kagamine (Picon)",
    },
    {
        url: "https://soundcloud.com/akkitoya/x",
        answer:
            "Aoiro Enogu - Shiho Hinomori, Shizuku Hinomori, & Hatsune Miku (Kujira)",
    },
    {
        url: "https://soundcloud.com/malleusdraconia/project-sekai-759012722",
        answer: "From Tokyo - Leo/Need & Hatsune Miku (Natsushiro Takaaki)",
    },
    {
        url: "https://soundcloud.com/hikaru-uwu/nonsense-bungaku-wonderlands-x",
        answer:
            "Nonsense Bungaku - Rui Kamishiro, Tsukasa Tenma, & Len Kagamine (Eve, Numa)",
    },
    {
        url: "https://soundcloud.com/clicky1/identity-by-kanade-miku",
        answer: "Identity - Kanade Yoisaki & Hatsune Miku (Kanaria)",
    },
    {
        url: "https://soundcloud.com/kanon-matsubara/full-glory-steady-go",
        answer:
            "Glory Steady Go! - Wonderlands x Showtime & Luka Megurine (kinoshita)",
    },
    {
        url: "https://soundcloud.com/clicky1/usseewa-by-25-ji-night-code-de",
        answer: "Usseewa - Mafuyu Asahina & Mizuki Akiyama (syudou)",
    },
    {
        url: "https://soundcloud.com/ldq5kidtnspc/mirai-vivid-bad-squadx-ver",
        answer: "Mirai - Vivid BAD SQUAD & Luka Megurine (Yuukisan)",
    },
    {
        url: "https://soundcloud.com/ldq5kidtnspc/vivid-bad-squad",
        answer: "Fragile - Akito Shinonome & Toya Aoyagi (nulut)",
    },
    {
        url: "https://soundcloud.com/chirpss/worldwide-wander-more-more-jump",
        answer: "Worldwide Wander - MORE MORE JUMP! & KAITO (TOKOTOKO)",
    },
    {
        url: "https://soundcloud.com/user-131851100-512460064/feat-tenma-tsukasa-otori-emu-kusanagi-nene-kamishiro",
        answer:
            "Once Upon A Dream - Wonderlands x Showtime & Len Kagamine (YASUHIRO)",
    },
    {
        url: "https://soundcloud.com/hikaru-uwu/earths-last-confession-more",
        answer:
            "Chikyuu Saigo no Kokuhaku o - Shizuku Hinomori, Haruka Kiritani, & Luka Megurine (kemu)",
    },
    {
        url: "https://soundcloud.com/clicky1/full-time-machine-by-leoneed",
        answer:
            "Time Machine - Ichika Hoshino, Saki Tenma, & Hatsune Miku (1640mP)",
    },
    {
        url: "https://soundcloud.com/user-791357167/full-telecaster-b-boy-by-wonderlands-x-showtime",
        answer:
            "Telecaster B-Boy - Wonderlands x Showtime & Len Kagamine (Surii/Three)",
    },
    {
        url: "https://soundcloud.com/rini-tsukimi/run-into-the-blue",
        answer: "Aoku Kakero! - Ichika Hoshino & Hatsune Miku (marasy)",
    },
    {
        url: "https://soundcloud.com/ldq5kidtnspc/cinema-vivid-bad-squad",
        answer: "Cinema - Vivid BAD SQUAD & KAITO (Ayase)",
    },
    {
        url: "https://soundcloud.com/nathorix3/25a",
        answer:
            "Inochi ni Kirawarete Iru. - Kanade Yoisaki & Hatsune Miku (Kanzaki Iori)",
    },
    {
        url: "https://soundcloud.com/chirpss/1-2-fanclub-wonderlands-x-showtime",
        answer: "Yī Èr Fanclub - Wonderlands x Showtime & Rin Kagamine (MikitoP)",
    },
    {
        url: "https://soundcloud.com/clicky1/full-keitai-renwa-by-25-ji",
        answer:
            "Keitai Renwa - Ena Shinonome, Mizuki Akiyama, & Hatsune Miku (Mafumafu)",
    },
    {
        url: "https://soundcloud.com/user-479070985/hoshino-ichika-tenma-tsukasa",
        answer:
            "Sekai - Ichika Hoshino, Tsukasa Tenma, Kanade Yoisaki, & Hatsune Miku (DECO*27, kemu, Rockwell)",
    },
    {
        url: "https://soundcloud.com/clicky1/aishite-aishite-aishite-by-25",
        answer:
            "Aishite Aishite Aishite - Mafuyu Asahina, Ena Shinonome, & Hatsune Miku (Kikuo)",
    },
    {
        url: "https://soundcloud.com/chirpss/stage-of-sekai-leoneed",
        answer: "STAGE OF SEKAI - Leo/Need & Len Kagamine (HarryP)",
    },
    {
        url: "https://soundcloud.com/alayna-michelle-639001855/echo-vivid-bad-squad",
        answer: "ECHO - Vivid BAD SQUAD & Luka Megurine (Crusher-P)",
    },
    {
        url: "https://soundcloud.com/clicky1/full-cutlery-by-25-ji",
        answer:
            "Cutlery - Kanade Yoisaki, Mafuyu Asahina, & Hatsune Miku (Yuukisan)",
    },
    {
        url: "https://soundcloud.com/clicky1/odo-by-vivid-bad-squad",
        answer: "Odo - An Shiraishi & Kohane Azusawa (Giga, TeddyLoid, DECO*27)",
    },
    {
        url: "https://soundcloud.com/clicky1/full-romeo-and-cinderella-by",
        answer:
            "Romeo to Cinderella - Shizuku Hinomori, Airi Momoi, & Hatsune Miku (doriko)",
    },
    {
        url: "https://soundcloud.com/ldq5kidtnspc/full-ver-leo-needx",
        answer:
            "Roku-chou Nen to Ichiy Monogatari - Ichika Hoshino & Hatsune Miku (kemu)",
    },
    {
        url: "https://soundcloud.com/ldq5kidtnspc/x-game-ver",
        answer: "TONDEMO-WONDERZ - Wonderlands x Showtime & KAITO (sasakure.UK)",
    },
    {
        url: "https://soundcloud.com/enashinonome/1sh1adsvxjxw",
        answer: "Jackpot Sad Girl - 25ji, Nightcord de. & Hatsune Miku (syudou)",
    },
    {
        url: "https://soundcloud.com/hikaru-uwu/bokuramada-underground-leo",
        answer:
            "Bokura Mada Underground - Ichika Hoshino, Shiho Hinomori, & Hatsune Miku (Eve, Numa)",
    },
    {
        url: "https://soundcloud.com/clicky1/full-patchwork-staccato-by",
        answer:
            "Tsugihagi Staccato - Shizuku Hinomori, Airi Momoi, & Hatsune Miku (Toa)",
    },
    {
        url: "https://soundcloud.com/user-791357167/full-your-adventure-log-has-vanished-by-wonderlands-x-showtime",
        answer:
            "Bouken no Sho ga Kiemashita! - Tsukasa Tenma, Emu Otori, Rin Kagamine, & Len Kagamine (JesusP)",
    },
    {
        url: "https://soundcloud.com/ldq5kidtnspc/achjnqfq6lkr",
        answer:
            "Umiyuri Kaiteitan - Ichika Hoshino, Honami Mochizuki, & Hatsune Miku (n-buna)",
    },
    {
        url: "https://soundcloud.com/nathorix3/by-vivid-bad-squad-pomp-and-circumstance-project-sekai-colorful-stage-ver",
        answer: "Ifuudoudou - Akito Shinonome, Toya Aoyagi, & KAITO (Umetora)",
    },
    {
        url: "https://soundcloud.com/clicky1/full-hello-how-are-you-by-25",
        answer:
            "Hello/How Are You - Ena Shinonome, Mafuyu Asahina, & Hatsune Miku (nanou)",
    },
    {
        url: "https://soundcloud.com/kureibee/chururira-wxs",
        answer: "Chururira Chururira Daddadda! - Wonderlands x Showtime (KurageP)",
    },
    {
        url: "https://soundcloud.com/dariusmht/cosmospice-saki-tenma-tsukasa",
        answer:
            "Cosmospice - Saki Tenma, Tsukasa Tenma, & Hatsune Miku (PinocchioP)",
    },
    {
        url: "https://soundcloud.com/shinjue/bring-it-on",
        answer:
            "Rettou Joutou - An Shiraishi, Kohane Azusawa, Rin Kagamine & Len Kagamine (Giga, Reol)",
    },
    {
        url: "https://soundcloud.com/kureibee/full-yoru-ni-kakeru-25-25-ji",
        answer: "Yoru ni Kakeru - Yoisaki Kanade & Hatsune Miku (Ayase)",
    },
    {
        url: "https://soundcloud.com/user-846651503/full-nostalogic-more-more-jump",
        answer: "Nostalogic - Haruka Kiritani, Shizuku Hinomori, & MEIKO (yuukiss)",
    },
    {
        url: "https://soundcloud.com/hikaru-uwu/positive-dance-time",
        answer:
            "Positive☆Dance Time - Emu Otori, Nene Kusanagi, & Rin Kagamine (Kinoshita)",
    },
    {
        url: "https://soundcloud.com/kureibee/id-smile-25-ji-full",
        answer: "IDSMILE - 25ji, Nightcord de. & MEIKO (Toa)",
    },
    {
        url: "https://soundcloud.com/clicky1/full-roki-by-leo-need",
        answer: "Roki - Ichika Hoshino & Hatsune Miku (MikitoP)",
    },
    {
        url: "https://soundcloud.com/clicky1/full-viva-happy-by-more-more",
        answer: "Viva Happy - MORE MORE JUMP! & Hatsune Miku (Mitchie M)",
    },
    {
        url: "https://soundcloud.com/ldq5kidtnspc/vivid-bad-squadx-ver-1",
        answer: "Alter Ego - Vivid BAD SQUAD & Hatsune Miku (Misumi)",
    },
    {
        url: "https://soundcloud.com/clicky1/full-hitobito-envy-by-25-ji",
        answer:
            "Hitorinbo Envy - Kanade Yoisaki, Mizuki Akiyama, & Hatsune Miku (koyori)",
    },
    {
        url: "https://soundcloud.com/hikaru-uwu/remote-control-wonderlands-x",
        answer:
            "Remote Control - Emu Otori, Nene Kusanagi, Rin Kagamine, & Len Kagamine (WONDERFUL☆OPPORTUNITY!)",
    },
    {
        url: "https://soundcloud.com/user-819841158/tokugawa-cup-noodle-ban-nene-kusanagi-nene-robo-x-mikudayo-kagamine-len-kaito",
        answer:
            "Tokugawa Cup Noodle Kinshirei - Nene Kusanagi, NeneRobo, Mikudayo, KAITO, Rin Kagamine, Len Kagamine, Luka Megurine, & MEIKO (Mitchie M)",
    },
    {
        url: "https://soundcloud.com/user-131851100-512460064/mp3fy-leo-need-0822-color-coded-lyricskan-rom-eng",
        answer:
            "Shinpakusuu#0822 - Ichika Hoshino, Honami Mochizuki, & Hatsune Miku (papiyon)",
    },
    {
        url: "https://soundcloud.com/ldq5kidtnspc/x-full-ver",
        answer: "Sweet Magic - Wonderlands x Showtime & Rin Kagamine (Junky)",
    },
    {
        url: "https://soundcloud.com/chirpss/villain-25ji-night-code-de",
        answer: "Villain - Mafuyu Asahina & Mizuki Akiyama (Teniwoha)",
    },
    {
        url: "https://soundcloud.com/a-single-river/jin-yobanashi-deceive-night",
        answer:
            "Yobanashi Deceive - Akito Shinonome, Toya Aoyagi, & Len Kagamine (Jin)",
    },
    {
        url: "https://soundcloud.com/noemurr/tenshi-no-clover-more-more",
        answer: "Tenshi no Clover - MORE MORE JUMP! & Rin Kagamine (DIVELA)",
    },
    {
        url: "https://soundcloud.com/vividbad/from-y-to-y-leoneed",
        answer: "from Y to Y - Leo/Need & Hatsune Miku (JimmyThumbP)",
    },
    {
        url: "https://soundcloud.com/user-540106876/rad-dogs-feat-azusawa-kohane",
        answer: "RAD DOGS - Vivid BAD SQUAD & Hatsune Miku (HachiojiP, q*Left)",
    },
    {
        url: "https://soundcloud.com/hikaru-uwu/darling-dance-more-more-jump",
        answer:
            "Darling Dance - Minori Hanasato, Haruka Kiritani, & Hatsune Miku (Kairiki Bear)",
    },
    {
        url: "https://soundcloud.com/hikaru-uwu/ray-leo-need",
        answer: "ray - Ichika Hoshino & Hatsune Miku (Fujiwara Motoo)",
    },
    {
        url: "https://soundcloud.com/clicky1/full-charles-by-25-ji",
        answer: "Charles - Ena Shinonome & Mizuki Akiyama (balloon)",
    },
    {
        url: "https://soundcloud.com/ezkatze/drop-pop-candy-vivid-bad-squad-project-sekai",
        answer:
            "drop pop candy - An Shiraishi, Azusawa Kohane, Rin Kagamine, & Luka Megurine (Giga, Reol)",
    },
    {
        url: "https://soundcloud.com/user-791357167/full-buriki-no-dance-by-wonderlands-x-showtime",
        answer:
            "Buriki no Dance - Rui Kamishiro, Tsukasa Tenma, & Len Kagamine (Hinata Electric Works)",
    },
    {
        url: "https://soundcloud.com/chirpss/ice-drop-more-more-jump",
        answer: "Ice Drop - MORE MORE JUMP! & Len Kagamine (aqu3ra)",
    },
    {
        url: "https://soundcloud.com/miho-814328870/asagao-no-chiru-koro-ni-leo",
        answer:
            "Asagao no Chiru Koro ni - Ichika Hoshino, Honami Mochizuki, & Hatsune Miku (Pusu (from TUYU))",
    },
    {
        url: "https://soundcloud.com/malleusdraconia/project-sekai-672322074",
        answer: "Yuurei Tokyo - Akito Shinonome, Toya Aoyagi, & KAITO (Ayase)",
    },
    {
        url: "https://soundcloud.com/clicky1/full-miracle-painting-by",
        answer:
            "Miracle Paint - Wonderlands x Showtime & Hatsune Miku (OSTER Project)",
    },
    {
        url: "https://soundcloud.com/ldq5kidtnspc/forward-full-ver-vivid-bad",
        answer: "Forward - Vivid BAD SQUAD & Hatsune Miku (R Sound Design)",
    },
    {
        url: "https://soundcloud.com/chirpss/heart-forecast-more-more-jump",
        answer:
            "Kokoroyohou - MORE MORE JUMP! & Hatsune Miku (Eve, TAKU INOUE, Numa)",
    },
    {
        url: "https://soundcloud.com/hikaru-uwu/peaky-peaky-leo-need",
        answer: "Peaky Peaky - Leo/Need & KAITO (MikitoP)",
    },
    {
        url: "https://soundcloud.com/chirpss/rain-and-petra-vivid-bad-squad",
        answer:
            "Ame to Petra - Akito Shinonome, Toya Aoyagi, & Len Kagamine (balloon)",
    },
    {
        url: "https://soundcloud.com/devilcrows/wonderlands-x-showtime-dance-robot-dance",
        answer:
            "Dance Robot Dance - Emu Otori, Nene Kusanagi, & Hatsune Miku (NayutalieN)",
    },
    {
        url: "https://soundcloud.com/clicky1/full-milk-crown-on-sonnetica",
        answer:
            "Milk Crown on Sonnetica - Shizuku Hinomori, Minori Hanasato, & Hatsune Miku (Yujii)",
    },
    {
        url: "https://soundcloud.com/chirpss/king-wonderlands-x-showtime-rui-kamishiro-and-tsukasa-tenma-duet",
        answer: "KING - Rui Kamishiro & Tsukasa Tenma (Kanaria)",
    },
    {
        url: "https://soundcloud.com/clicky1/teo-by-leo-need",
        answer: "Teo - Ichika Hoshino & Hatsune Miku (Omoi, Sakurai)",
    },
    {
        url: "https://soundcloud.com/chirpss/smilesurvey-team-theme-wonderlands-x-showtime",
        answer:
            "Niccori^^Chōsatai no Theme - Wonderlands x Showtime & Hatsune Miku (WONDERFUL☆OPPORTUNITY!)",
    },
    {
        url: "https://soundcloud.com/ldq5kidtnspc/more-more-jumpx-full-ver",
        answer: "More! Jump! More! - MORE MORE JUMP! & Hatsune Miku (NayutalieN)",
    },
    {
        url: "https://soundcloud.com/chirpss/childrens-record-vivid-bad-squad",
        answer: "Children Record - Vivid BAD SQUAD & Len Kagamine (Jin)",
    },
    {
        url: "https://soundcloud.com/user-791357167/full-fixer-wonderlands-x-showtime",
        answer: "Fixer - Rui Kamishiro & Tsukasa Tenma (nulut)",
    },
    {
        url: "https://soundcloud.com/user-840687078/full-gunjo-sanka-project-sekai",
        answer:
            "Gunjou Sanka - Ichika Hoshino, Minori Hanasato, Kohane Azusawa, Tsukasa Tenma, Kanade Yoisaki, & Hatsune Miku (Eve, Numa)",
    },
    {
        url: "https://soundcloud.com/dk-station/bocca-della-verita",
        answer:
            "Bocca Della Verità - Mafuyu Asahina & Mizuki Akiyama (Hiiragi Kirai)",
    },
    {
        url: "https://soundcloud.com/jennie-797976278/salamander-project-sekai-akito-shinonome-ena-shinonome-hatsune-miku",
        answer:
            "Salamander - Akito Shinonome, Ena Shinonome, & Hatsune Miku (DECO*27)",
    },
    {
        url: "https://soundcloud.com/user-791357167/full-as-you-like-it-by-wonderlands-x-showtime",
        answer: "Oki ni Mesu mama - Wonderlands x Showtime & Hatsune Miku",
    },
    {
        url: "https://soundcloud.com/chirpss/moonlight-vivid-bad-squad",
        answer: "Moonlight - Vivid BAD SQUAD & MEIKO",
    },
    {
        url: "https://soundcloud.com/ldq5kidtnspc/full-ver-x-x",
        answer:
            "Sekai wa Mada Hajimatte sura Inai - Wonderlands x Showtime & Hatsune Miku (PinocchioP)",
    },
    {
        url: "https://soundcloud.com/sh-hnmr-hgf69/full-metamo-reborn-more-more-jump-x-rin-kagamine",
        answer: "Metamo Re:born - MORE MORE JUMP! & Rin Kagamine (emon(Tes.))",
    },
    {
        url: "https://soundcloud.com/chirpss/88-wonderlands-x-showtime",
        answer: "88☆彡 - Wonderlands x Showtime & KAITO (marasy, kemu)",
    },
    {
        url: "https://soundcloud.com/clicky1/full-hibana-by-leo-need",
        answer:
            "Hibana -Reloaded- - Ichika Hoshino & Hatsune Miku (DECO*27, Rockwell)",
    },
    {
        url: "https://soundcloud.com/user-131851100-512460064/ready-steady-vivid-bad-squad-hatsune-miku",
        answer: "Ready Steady - Vivid BAD SQUAD & Hatsune Miku (Giga, q*Left)",
    },
    {
        url: "https://soundcloud.com/clicky1/full-totemo-itai-itagaritai-by",
        answer:
            "Totemo Itai Itagaritai - Mafuyu Asahina, Ena Shinonome, & Hatsune Miku (EZFG)",
    },
    {
        url: "https://soundcloud.com/ezesoaigmywo/full-just-be-friends-feat",
        answer:
            "Just Be Friends - An Shiraishi, Kohane Azusawa, & Luka Megurine (Dixie Flatline)",
    },
    {
        url: "https://soundcloud.com/chirpss/flyer-vivid-bad-squad",
        answer: "Flyer! - Vivid BAD SQUAD & Len Kagamine (Chinozo)",
    },
    {
        url: "https://soundcloud.com/clicky1/karakuri-pierrot-by-more-more",
        answer: "Karakuri Pierrot - MORE MORE JUMP! & Hatsune Miku (40meterP)",
    },
    {
        url: "https://soundcloud.com/ldq5kidtnspc/infinitely-gray-25-ver",
        answer:
            "Kagirinaku Haiiro e - 25ji, Nightcord de. & Rin Kagamine (Surii/Three)",
    },
    {
        url: "https://soundcloud.com/hikaru-uwu/devils-manner-vivid-bad-squad",
        answer:
            "Akuma no Odorikata - Vivid BAD SQUAD & Len Kagamine (Tatsuya Kitani)",
    },
    {
        url: "https://soundcloud.com/malleusdraconia/project-sekai-colorful-stage-happy-synthesizer-more-more-jump",
        answer: "Happy Synthesizer! - MORE MORE JUMP! & Hatsune Miku (EasyPop)",
    },
    {
        url: "https://soundcloud.com/spicy-san-thepuppet/dreamin-chuchu-more-more-jump",
        answer: "Dreamin Chuchu - MORE MORE JUMP! & Hatsune Miku (emon(Tes.))",
    },
    {
        url: "https://soundcloud.com/ldq5kidtnspc/1-leo-need-x",
        answer: "「１」- Leo/Need & Luka Megurine (164)",
    },
    {
        url: "https://soundcloud.com/clicky1/full-jishou-mushoku-by-25-ji-night-code-de",
        answer:
            "Jishou Mushoku - Kanade Yoisaki, Mafuyu Asahina, & Hatsune Miku (Sasanomaly)",
    },
    {
        url: "https://soundcloud.com/shirosami/if-more-more-jump",
        answer: "If - MORE MORE JUMP! & Hatsune Miku (YurryCanon, Tsukuyomi)",
    },
    {
        url: "https://soundcloud.com/mizuena/garando-airhead-vivid-bad-squad-akito-shinonome-aoyagi-touya-kagamine-len",
        answer: "Garando - Akito Shinonome, Toya Aoyagi, & Len Kagamine (Picon)",
    },
    {
        url: "https://soundcloud.com/komi-shoko/kuyamu-to-kaite-mirai-25-ji-nightcord-de-color-coded-kan-rom-eng-lyrics-project-sekai-128-kbps",
        answer:
            "Kuyamu to Kaite Mirai - 25ji, Nightcord de. & Hatsune Miku (mafumafu)",
    },
    {
        url: "https://soundcloud.com/mizuena/ghost-rule-leoneed-hoshino-ichika-hatsune-miku",
        answer: "Ghost Rule - Ichika Hoshino & Hatsune Miku (DECO*27)",
    },
    {
        url: "https://soundcloud.com/hikaru-uwu/palll-sensation-vivid-bad",
        answer:
            "PaIII. Sensation - An Shiraishi, Kohane Azusawa, Rin Kagamine, & Hatsune Miku (Yunosuke, Gyuuniku)",
    },
    {
        url: "https://soundcloud.com/user-791357167/full-dappou-rock-by-wonderlands-x-showtime",
        answer: "Dappou Rock - Rui Kamishiro, Tsukasa Tenma, & Len Kagamine (Neru)",
    },
    {
        url: "https://soundcloud.com/ldq5kidtnspc/ai-no-material-more-more",
        answer: "Ai no Material - MORE MORE JUMP! & MEIKO (Junky)",
    },
    {
        url: "https://soundcloud.com/ichinose_rim_jp/ver-4",
        answer: "Asu no Yozora Shoukaihan - Ichika Hoshino (Orangestar)",
    },
    {
        url: "https://soundcloud.com/ldq5kidtnspc/potato",
        answer:
            "potato ni Natte iku - Wonderlands x Showtime & Hatsune Miku (Neru)",
    },
    {
        url: "https://soundcloud.com/user-960341772/lower-25ji",
        answer: "Lower - 25ji, Nightcord de. & MEIKO (nulut)",
    },
    {
        url: "https://soundcloud.com/user-131851100-512460064/hoshino-ichika-hatsune-miku-dramaturgy",
        answer: "Dramaturgy - Ichika Hoshino & Hatsune Miku",
    },
    {
        url: "https://soundcloud.com/mxnochrxme/mkdr-dscf-kanaena",
        answer:
            "Mousou Kanshou Daishou Renmei - Kanade Yoisaki, Ena Shinonome, & Hatsune Miku",
    },
    {
        url: "https://soundcloud.com/chirpss/shoujorei-more-more-jump",
        answer: "Shoujorei - Shizuku Hinomori, Haruka Kiritani, & Hatsune Miku",
    },
    {
        url: "https://soundcloud.com/a-single-river/jin-stella-leo-need-x-miku",
        answer: "Stella - Leo/Need & Hatsune Miku",
    },
    {
        url: "https://soundcloud.com/hikaru-uwu/hello-world-leo-need-full",
        answer: "Hello, world! - Leo/Need & Hatsune Miku",
    },
    {
        url: "https://soundcloud.com/chirpss/nomad-25ji-night-code-de",
        answer: "Nomad - 25ji, Nightcord de. & Rin Kagamine (balloon)",
    },
    {
        url: "https://soundcloud.com/user-846651503/full-near-more-more-jump",
        answer: "Near - Haruka Kiritani, Minori Hanasato, & Hatsune Miku",
    },
    {
        url: "https://soundcloud.com/user-131851100-512460064/vivid-bad-squad-beat-eater",
        answer: "Beat Eater - Vivid BAD SQUAD & Len Kagamine",
    },
    {
        url: "https://soundcloud.com/user-131851100-512460064/more-more-jump-newly-edgy-idols",
        answer: "Idol Shin'eitai - MORE MORE JUMP! & Hatsune Miku",
    },
    {
        url: "https://soundcloud.com/chirpss/made-to-order-leoneed",
        answer: "Made-to-Order - Leo/Need & Luka Megurine",
    },
    {
        url: "https://soundcloud.com/user-761980745/full-tricologe-25ji-nightcord",
        answer: "Tricologe - 25ji, Nightcord de. & Hatsune Miku",
    },
    {
        url: "https://soundcloud.com/user-950485560/full-ver-leo-need-ikanaide-dont-go",
        answer: "Ikanaide - Ichika Hoshino, Saki Tenma, & Hatsune Miku",
    },
    {
        url: "https://soundcloud.com/kureibee/otome-dissection-25-ji",
        answer: "Otome Kaibou - Mafuyu Asahina, Mizuki Akiyama, & Hatsune Miku",
    },
    {
        url: "https://soundcloud.com/clicky1/full-venom-by-25-ji-nightcord",
        answer: "Venom - Ena Shinonome & Mizuki Akiyama",
    },
    {
        url: "https://soundcloud.com/user-131851100-512460064/mp3fy-ryuusei-no-pulse-leo-need-lyrics",
        answer: "Ryuusei no Pulse - Leo/Need & MEIKO",
    },
    {
        url: "https://soundcloud.com/ldq5kidtnspc/vivid-bad-squadx",
        answer: "Traffic Jam - Vivid BAD SQUAD & Rin Kagamine",
    },
    {
        url: "https://soundcloud.com/rini-tsukimi/needle-leo-need",
        answer: "needLe - Leo/Need & Hatsune Miku",
    },
    {
        url: "https://soundcloud.com/emaleth-farias/at-gods-mercy-wonderlands-x",
        answer: "Kami no Manimani - Wonderlands x Showtime & Hatsune Miku",
    },
    {
        url: "https://soundcloud.com/choci-mocha/love-trial-more-more-jump",
        answer: "Renai Saiban - Airi Momoi, Minori Hanasato, & Hatsune Miku",
    },
    {
        url: "https://soundcloud.com/user-791357167/full-nijiiro-stories-by-wonderlands-x-showtime",
        answer: "Nijiro Stories - Nene Kusanagi, Rui Kamishiro, MEIKO, & KAITO",
    },
    {
        url: "https://soundcloud.com/clicky1/full-melty-land-nightmare-by",
        answer: "Melty Land Nightmare - MORE MORE JUMP! & Hatsune Miku",
    },
    {
        url: "https://soundcloud.com/user-34705655/hare-wo-matsu-leo-need",
        answer: "Hare Wo Matsu - Leo/Need & Hatsune Miku",
    },
    {
        url: "https://soundcloud.com/chirpss/kanade-tomosu-sora-25ji-night-code-de",
        answer: "Kanade Tomosu Sora - 25ji, Nightcord de. & Luka Megurine",
    },
    {
        url: "https://soundcloud.com/clicky1/full-bitter-choco-decoration",
        answer: "Bitter Choco Decoration - 25ji, Nightcord de. & Hatsune Miku",
    },
    {
        url: "https://soundcloud.com/hikaru-uwu/telecaster-b-boy-wonderlands-x",
        answer:
            "Lost One no Goukoku - Ichika Hoshino, Shiho Hinomori, & Rin Kagamine",
    },
    {
        url: "https://soundcloud.com/chirpss/kagerou-daze-leoneed-cover",
        answer: "Kagerou Daze - Leo/Need & Hatsune Miku",
    },
    {
        url: "https://soundcloud.com/ldq5kidtnspc/show-time-ruler-x-x",
        answer: "Showtime Ruler - Wonderlands x Showtime & Kagamine Rin",
    },
    {
        url: "https://soundcloud.com/clicky1/full-marshmary-by-more-more",
        answer: "Marshmary - Airi Momoi, Minori Hanasato, & Hatsune Miku",
    },
    {
        url: "https://soundcloud.com/ichinose_rim_jp/ver-3",
        answer: "Doctor=Funk Beat - Akito Shinonome, Toya Aoyagi, & KAITO",
    },
    {
        url: "https://soundcloud.com/nlebjysavndf/journey-project-sekai",
        answer:
            "Journey - Hoshino Ichika, Hanasato Minori, Azusawa Kohane, Tenma Tsukasa, Yoisaki Kanade, & Hatsune Miku",
    },
    {
        url: "https://soundcloud.com/hatsunesouhmiku/tell-your-world",
        answer: "Tell Your World - Hatsune Miku",
    },
    {
        url: "https://soundcloud.com/andreievich-rosse/next-nest",
        answer: "Next Nest - Hatsune Miku",
    },
    {
        url: "https://soundcloud.com/yuminightcore2/39-music",
        answer: "39 Music! - Hatsune Miku",
    },
    {
        url: "https://soundcloud.com/user-901332093/greenlights-serenade",
        answer: "Greenlights Serenade - Hatsune Miku",
    },
    {
        url: "https://soundcloud.com/tansauwei/hatsune-miku-world-is-mine",
        answer: "World is Mine - Hatsune Miku",
    },
    {
        url: "https://soundcloud.com/tsukune-aono/hatsune-miku-no-shoushitsu",
        answer: "Hatsune Miku no Shoushitsu - Hatsune Miku",
    },
    {
        url: "https://soundcloud.com/naomi-jalloh/blessing-halyosy-ft-hatsune",
        answer:
            "Blessing - Hatsune Miku, Kagamine Rin, Kagamine Len, Megurine Luka, MEIKO, & KAITO",
    },
    {
        url: "https://soundcloud.com/vocaloid_fangirl/hatsune-miku-kagamine-rin-gimmexgimme-vocaloid-original-by-p-giga",
        answer: "Gimme X Gimme - Hatsune Miku & Kagamine Rin",
    },
    {
        url: "https://soundcloud.com/rw486/leia-remind",
        answer: "Leia -Remind - Megurine Luka",
    },
    {
        url: "https://soundcloud.com/tomkayepika2/rollin-girlhttps://soundcloud.com/tomkayepika2/rollin-girl",
        answer: "Rollin Girl - Hatsune Miku",
    },
    {
        url: "https://soundcloud.com/a-single-river/dareka-no-shinzou-ni-nareta",
        answer: "Dareka no Shinzou ni Nareta Nara - GUMI",
    },
    {
        url: "https://soundcloud.com/anamanaguchi/miku",
        answer: "Miku - Hatsune Miku (Anamanaguchi)",
    },
    {
        url: "https://soundcloud.com/user-449328678/soudatta",
        answer: "Sou Datta!! - Hatsune Miku",
    },
    {
        url: "https://soundcloud.com/lelka18/sick-of-house-feat-kagaminehttps://soundcloud.com/lelka18/sick-of-house-feat-kagamine",
        answer: "Sick of House! - Kagamine Len, Kagamine Rin",
    },
    {
        url: "https://soundcloud.com/afiroz/aku-no-musume",
        answer: "Aku no Musume - Kagamine Rin",
    },
    {
        url: "https://soundcloud.com/afiroz/aku-no-meshitsukai",
        answer: "Aku no Meshitsukai - Kagamine Len",
    },
    {
        url: "https://soundcloud.com/h_a_n_a/official-from-cosmop-feat",
        answer: "MACHINEGUN POEM DOLL - Hatsune Miku",
    },
    {
        url: "https://soundcloud.com/ritsukogas/full-hitsuji-ga-ippiki-vivid",
        answer: "Hitsuji ga Ippiki - Vivid BAD SQUAD",
    },
    {
        url: "https://soundcloud.com/josie-533760370/25-ji-nightcord-de-i-i-nandesu",
        answer: "I Nandesu - 25ji, Nightcord de. & Hatsune Miku",
    },
];

async function loadSongs() {
    try {
        const response = await fetch('songs.json');
        SongDict = await response.json();
        console.log('Data loaded:', SongDict);
        // You can now use jsonData anywhere in your code
    } catch (error) {
        console.error('Error loading JSON:', error);
    }
}

// loadSongs();
let ArrGuesses = [];

for (let i = 0; i < SongDict.length; i++) {
    ArrGuesses.push(SongDict[i]["answer"]);
}

console.log(SongDict.length);
console.log(ArrGuesses);

const order = [114, 132, 69, 156, 113, 121, 55, 146, 72, 138, 90, 144, 77, 139, 63, 25, 101, 38, 10, 153, 104, 148, 133, 102, 68, 100, 115, 135, 123, 18, 105, 98, 118, 42, 32, 87, 125, 130, 117, 83, 89, 78, 27, 74, 76, 119, 6, 155, 106, 21, 60, 49, 151, 3, 13, 79, 73, 29, 16, 8, 41, 17, 154, 53, 30, 5, 33, 65, 85, 147, 56, 14, 97, 93, 111, 99, 71, 59, 2, 143, 109, 134, 34, 46, 1, 80, 57, 61, 23, 52, 19, 110, 81, 86, 51, 22, 88, 7, 142, 9, 122, 4, 58, 107, 75, 35, 92, 24, 145, 141, 54, 140, 40, 136, 103, 126, 128, 48, 15, 137, 28, 116, 131, 36, 37, 50, 91, 43, 67, 66, 84, 82, 20, 129, 112, 124, 11, 0, 70, 127, 149, 45, 62, 120, 31, 64, 108, 39, 47, 152, 44, 12, 95, 94, 150, 96, 26];

const STARTDATE = "2025-08-04";

const searchInput = document.getElementById('search-input');
const suggestionsContainer = document.getElementById('suggestions');
const submitBtn = document.getElementById('submit-btn');
const skipBtn = document.getElementById('skip-btn');

// Array to keep track of wrong guesses
let wrongGuesses = [];
const wrongGuessSecondsReceived = [1, 2, 3, 4, 5]
const wrongGuessSecondsCumulative = [1, 2, 4, 7, 11, 16, 16]

// Current answer
let Number = order[daysSinceStartDate()];
let Answer = SongDict[Number]['answer'];
let URL = SongDict[Number]['url'];
console.log(Answer);
let mode = "Daily";

// popup
let ucpopup;

// countdown recording
let countdown;

    const btnPlay = document.getElementById('btnPlay');
    const progressBar = document.getElementById('progressBar');
    const currentTimeDisplay = document.getElementById('currentTime');
    const durationDisplay = document.getElementById('duration');

let player;
    let isPlaying = false;
    let playTimer;
    let progressInterval;
    const maxDuration = 16; // Progress bar goes up to 16 seconds

// Initialize the player
function initPlayer() {
    const iframe = document.createElement('iframe');
    // Replace iframe.style.display = 'none' with:
    iframe.style.width = '0';
    iframe.style.height = '0';
    iframe.style.border = 'none';
    iframe.style.position = 'absolute';
    iframe.style.visibility = 'hidden';
    iframe.allow = "encrypted-media; autoplay";
    iframe.src = 'https://w.soundcloud.com/player/?url=' + URL + '&auto_play=false&buying=false&liking=false&download=false&sharing=false&show_artwork=false&show_comments=false&show_playcount=false&show_user=false&hide_related=true&visual=false';
    document.body.appendChild(iframe);

    player = SC.Widget(iframe);

    player.bind(SC.Widget.Events.READY, function () {
        console.log('Player is ready');
        durationDisplay.textContent = '0:16';
    });

    player.bind(SC.Widget.Events.ERROR, function (error) {
        console.log('Player error:', error);
    });
}

document.addEventListener('DOMContentLoaded', function () {
    // Format seconds into MM:SS
    function formatTime(seconds) {
        const mins = Math.floor(seconds / 60);
        const secs = Math.floor(seconds % 60);
        return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
    }

    // Update progress bar
    function updateProgress(currentTime) {
        const progressPercent = ((currentTime - 3) / maxDuration) * 100;
        progressBar.style.width = `${progressPercent}%`;
        currentTimeDisplay.textContent = formatTime(currentTime - 3);
    }

    // Play the first 3 seconds
    function playFirstFewSeconds() {
        player.seekTo(3);
        player.play();
        isPlaying = true;
        btnPlay.innerHTML = '&#10074;&#10074;';

        let currentTime = 3;
        updateProgress(currentTime);

        progressInterval = setInterval(() => {
            currentTime += 0.1;
            updateProgress(currentTime);

            if (currentTime - 3 >= wrongGuessSecondsCumulative[wrongGuesses.length]) {
                stopPlayback();
            }
        }, 100);

        // Stop after 3 seconds
        playTimer = setTimeout(stopPlayback, (wrongGuessSecondsCumulative[wrongGuesses.length] + 3) * 1000);
    }

    // Stop playback
    function stopPlayback() {
        clearInterval(progressInterval);
        clearTimeout(playTimer);
        player.pause();
        isPlaying = false;
        btnPlay.innerHTML = "&#9658;";
    }

    // Event listener for play button
    btnPlay.addEventListener('click', async function () {
        if (isPlaying) {
            stopPlayback();
        } else {
            // First resume any suspended AudioContext
            if (typeof player.resume === 'function') {
                await player.resume();
            }
            playFirstFewSeconds();
        }
    });

    // Initialize the player
    initPlayer();
});

// Function to check if input matches any item (case-insensitive)
function isValidInput(input) {
    return ArrGuesses.some(item =>
        item.toLowerCase() === input.toLowerCase().trim()
    );
}

function daysSinceStartDate() {
    // Parse the STARTDATE string into a Date object in UTC
    const startDate = new Date(STARTDATE);
    const startDateUTC = Date.UTC(
        startDate.getUTCFullYear(),
        startDate.getUTCMonth(),
        startDate.getUTCDate()
    );

    // Get current UTC date (with time set to midnight for accurate comparison)
    const now = new Date();
    const todayUTC = Date.UTC(
        now.getUTCFullYear(),
        now.getUTCMonth(),
        now.getUTCDate()
    );

    // Calculate the difference in milliseconds
    const diffTime = todayUTC - startDateUTC;

    // Convert milliseconds to days
    const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));

    // Return 0 if negative (future date) or the day count
    return Math.max(0, diffDays);
}

// Function to filter items based on search input
function getSuggestions(searchTerm) {
    return ArrGuesses.filter(item =>
        item.toLowerCase().includes(searchTerm.toLowerCase())
    );
}

// Function to display suggestions
function showSuggestions(suggestions) {
    if (suggestions.length === 0 || searchInput.value === '') {
        suggestionsContainer.style.display = 'none';
        return;
    }

    suggestionsContainer.innerHTML = '';
    suggestions.forEach(suggestion => {
        const div = document.createElement('div');
        div.className = 'suggestion-item';
        div.textContent = suggestion;
        div.addEventListener('click', () => {
            searchInput.value = suggestion;
            suggestionsContainer.style.display = 'none';
            validateInput();
        });
        suggestionsContainer.appendChild(div);
    });
    suggestionsContainer.style.display = 'block';
}

// Function to validate input and update UI
function validateInput() {
    const inputValue = searchInput.value.trim();
    const isValid = isValidInput(inputValue);

    // Update submit button state
    submitBtn.disabled = !isValid;

    // Update input border color
    if (inputValue === '') {
        searchInput.classList.remove('valid-input', 'invalid-input');
    } else {
        searchInput.classList.toggle('valid-input', isValid);
        searchInput.classList.toggle('invalid-input', !isValid);
    }
}

function checkGuess(inputValue) {
    // Get the input value (assuming INPUT is a variable containing the current guess)
    const guess = inputValue;

    // Check if the guess matches the ANSWER
    if (guess === Answer) {
        // Handle correct guess (you can add your logic here)
        console.log("Correct guess!");
        ucpopup = createUnclosablePopup(`You got today's Project Sekai Heardle within ${wrongGuessSecondsCumulative[wrongGuesses.length]} second(s).`, {
            title: 'Correct guess!',
            backgroundColor: '#f8d7da',
            textColor: '#721c24',
            guessed: true
        });
        return true;
    } else {
        // Add wrong guess to the array
        wrongGuesses.push(guess);

        // Set Guess Skip Number
        if (wrongGuesses.length < 5) {
            skipBtn.textContent = "Skip (+" + wrongGuessSecondsReceived[wrongGuesses.length] + "s)";
        } else {
            skipBtn.textContent = "Skip";
        }

        // Update HTML elements with wrong guesses
        for (let i = 0; i < Math.min(wrongGuesses.length, 6); i++) {
            const element = document.getElementById(`guess${i + 1}`);
            if (element) {
                element.textContent = wrongGuesses[i];
                if (i === Math.min(wrongGuesses.length, 6) - 1) {
                    element.classList.remove('col-sm-middle');
                    element.classList.add('col-sm-middle-guessed');
                }
            }
        }

        // light the next one
        console.log(wrongGuesses.length);
        const element = document.getElementById(`guess${wrongGuesses.length + 1}`);
        if (element) {
            element.classList.remove('col-sm-middle');
            element.classList.add('col-sm-middle-guessed');
        }

        if (wrongGuesses.length === 6) {
            const popup = createUnclosablePopup("You didn't get today's Project Sekai Heardle. Better luck tomorrow!", {
                title: 'Nice Try!',
                backgroundColor: '#f8d7da',
                textColor: '#721c24',
                guessed: false
            });
        }

        return false;
    }
}

// Function to handle the submitted input
function handleSubmit() {
    const inputValue = searchInput.value.trim();
    console.log('Submitted value:', inputValue);
    // You can do whatever you need with the input value here
    checkGuess(inputValue);
}

// Function to handle skipped guesses
function handleSkip() {
    console.log("Skipped Guess");
    checkGuess("Skipped...");
}

// Event listeners
searchInput.addEventListener('input', () => {
    const suggestions = getSuggestions(searchInput.value);
    showSuggestions(suggestions);
    validateInput();
});

searchInput.addEventListener('focus', () => {
    const suggestions = getSuggestions(searchInput.value);
    showSuggestions(suggestions);
    validateInput();
});

// Submit button click handler
submitBtn.addEventListener('click', handleSubmit);
// Skip button click handler
skipBtn.addEventListener('click', handleSkip);

// Also allow Enter key in the input field to submit
searchInput.addEventListener('keypress', (e) => {
    if (e.key === 'Enter' && !submitBtn.disabled) {
        handleSubmit();
    }
});

// Hide suggestions when clicking outside
document.addEventListener('click', (e) => {
    if (e.target !== searchInput && e.target !== submitBtn) {
        suggestionsContainer.style.display = 'none';
    }
});

document.addEventListener('DOMContentLoaded', function () {
    // Get modal elements
    const modal = document.getElementById('customModal');
    const modalTitle = document.getElementById('customModalLabel');
    const modalBody = document.getElementById('customModalBody');

    // When a popup link is clicked
    document.querySelectorAll('.popup-link').forEach(link => {
        link.addEventListener('click', function () {
            // Set modal title and content from data attributes
            const title = this.getAttribute('data-popup-title') || 'Modal';
            const content = this.getAttribute('data-popup-content') || 'Content not specified';

            modalTitle.textContent = title;
            modalBody.innerHTML = content;
        });
    });

    // Optional: Reset modal content when closed
    modal.addEventListener('hidden.bs.modal', function () {
        modalTitle.textContent = 'Modal Title';
        modalBody.textContent = 'Modal content will appear here...';
    });
});

function createUnclosablePopup(content, options = {}) {
    // Set default options
    const config = {
        title: options.title || 'Important Notice',
        backgroundColor: options.backgroundColor || '#ffffff',
        textColor: options.textColor || '#000000',
        ...options
    };

    // Create overlay and popup if they don't exist
    let overlay = document.getElementById('unclosableOverlay');
    let popup = document.getElementById('unclosablePopup');

    if (!overlay) {
        overlay = document.createElement('div');
        overlay.id = 'unclosableOverlay';
        overlay.style.cssText = `
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background-color: rgba(0, 0, 0, 0.7);
                    z-index: 9998;
                `;
        document.body.appendChild(overlay);
    }

    if (!popup) {
        popup = document.createElement('div');
        popup.id = 'unclosablePopup';
        popup.style.cssText = `
                    position: fixed;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    background-color: black;
                    color: #999999;
                    padding: 30px;
                    border-radius: 5px;
                    border: 1px solid #999999;
                    box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
                    z-index: 9999;
                    max-width: 80%;
                    max-height: 80vh;
                    overflow-y: auto;
                    text-align: center; /* Center text */
                    display: flex; /* Flexbox for better centering */
                    flex-direction: column; /* Stack children vertically */
                    align-items: center; /* Center horizontally */
                    justify-content: center; /* Center vertically */
                `;
        document.body.appendChild(popup);
    }

    // Set the popup content
    popup.innerHTML = `
                <h4 id="end-result"> ${config.title} </h4>
                <p>The correct answer was "${Answer}"</p>
                <p id="tries-used">${content}</p>
                <button id="share-btn"> 
                    SHARE 
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-share" viewBox="0 0 16 16">
                      <path d="M13.5 1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3M11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.5 2.5 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5m-8.5 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3m11 5.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3"/>
                    </svg>
                </button>
                <div id="status"></div>
                <p class="description">Time until the next song: </p>
                <div class="countdown-display" id="countdown">23:59:59</div>
                <button id="endless-btn"> 
                    ENDLESS MODE 
                </button>
            `;

    // Assign countdown
    countdown = document.getElementById('countdown');

    // Show the popup and overlay
    overlay.style.display = 'block';
    popup.style.display = 'block';
    document.body.classList.add('unclosable-popup-open');

    // Button click handler
    document.getElementById('share-btn').addEventListener('click', async () => {
        const button = document.getElementById('share-btn');
        const status = document.getElementById('status');

        // Call your function to get the content
        const content = generateContent(options.guessed);

        // Try to copy to clipboard
        const success = await copyToClipboard(content);

        if (success) {
            // Visual feedback
            button.textContent = 'Copied!';
            button.classList.add('copied');
            status.textContent = 'Content copied to clipboard!';

            // Reset button after 2 seconds
            setTimeout(() => {
                button.textContent = 'Copy to Clipboard';
                button.classList.remove('copied');
            }, 2000);
        } else {
            status.textContent = 'Failed to copy to clipboard.';
        }
    });

    document.getElementById('endless-btn').addEventListener('click', async () => {
        Number = getRandomInt(0, 156);

        Answer = SongDict[Number]['answer'];
        URL = SongDict[Number]['url'];
        console.log(Answer);

        // clear wrong answers
        wrongGuesses = [];
        // Un-update HTML elements with wrong guesses
        for (let i = 0; i < 6; i++) {
            const element = document.getElementById(`guess${i + 1}`);
            if (element) {
                element.innerHTML = "<br>";
                if (i !== 0){
                    // unlight it
                    element.classList.remove('col-sm-middle-guessed');
                    element.classList.add('col-sm-middle');
                }
            }
        }

        // set mode to endless
        mode = "Endless";

        // reset skip btn content
        skipBtn.textContent = "Skip (+" + wrongGuessSecondsReceived[wrongGuesses.length] + "s)";

        // re-initialize the player
        initPlayer();

        // Close the popup
        overlay.style.display = 'none';
        popup.style.display = 'none';
        document.body.classList.remove('unclosable-popup-open');
        window.close = originalWindowClose;
    });

    // Disable all methods of closing
    // 1. Prevent clicking outside
    overlay.addEventListener('click', (e) => {
        e.stopPropagation();
        e.preventDefault();
    });

    // 2. Prevent Escape key
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
            e.preventDefault();
            e.stopPropagation();
        }
    }, true);

    // 3. Prevent right-click context menu
    popup.addEventListener('contextmenu', (e) => {
        e.preventDefault();
    });

    // 4. Prevent any other potential closing methods
    const originalWindowClose = window.close;
    window.close = function () {
        console.log('Window closing has been disabled while the popup is active');
        return null;
    };

    // Return a function that can close the popup (if you need it)
    return {
        close: () => {
            overlay.style.display = 'none';
            popup.style.display = 'none';
            document.body.classList.remove('unclosable-popup-open');
            window.close = originalWindowClose;
        }
    };
}

function getRandomInt(min, max) {
    min = Math.ceil(min);
    max = Math.floor(max);
    return Math.floor(Math.random() * (max - min + 1)) + min;
}

function formatDateUTC(date) {
    const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
    const utcYear = date.getUTCFullYear();
    const utcMonth = months[date.getUTCMonth()]; // Get month name (e.g., "Aug")
    const utcDay = date.getUTCDate();

    return `${utcMonth} ${utcDay}, ${utcYear}`; // Example: "Aug 7, 2025"
}

// Function that generates the content to be copied
function generateContent(isGuessed) {
    const date = new Date();
    const formattedDate = formatDateUTC(date)

    return `Project Sekai ${mode} Heardle #${Number}, ${formattedDate} (UTC)

${generateGuessNumbers(isGuessed)}`;
}

function generateGuessNumbers(isGuessed) {
    const right = "🟩";
    const rightSound = "🔊";
    const wrong = "⬛️";
    const wrongSound = "🔇";
    const unguessed = "⬜️";

    let clipboardemojis = "";

    if (isGuessed) {
        clipboardemojis += rightSound;
    } else {
        clipboardemojis += wrongSound;
    }

    for (let i = 0; i < wrongGuesses.length; i++) {
        clipboardemojis += wrong;
    }

    if (!isGuessed) {
        return clipboardemojis;
    } else {
        clipboardemojis += right;
    }
    console.log(clipboardemojis.length);

    for (let i = clipboardemojis.length / 2; i < 7; i++) {
        clipboardemojis += unguessed;
        console.log("called");
    }

    return clipboardemojis;
}

// Function to copy text to clipboard
async function copyToClipboard(text) {
    try {
        await navigator.clipboard.writeText(text);
        return true;
    } catch (err) {
        console.error('Failed to copy: ', err);
        return false;
    }
}

function updateCountdown() {
    // Get current UTC time
    const now = new Date();

    // Calculate time until next UTC day (midnight)
    const nextDay = new Date(now);
    nextDay.setUTCDate(nextDay.getUTCDate() + 1);
    nextDay.setUTCHours(0, 0, 0, 0);

    const diff = nextDay - now;

    // Convert milliseconds to hours, minutes, seconds
    const hours = Math.floor(diff / (1000 * 60 * 60));
    const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((diff % (1000 * 60)) / 1000);

    // Format with leading zeros

    if (countdown) {
        // Update the display
        countdown.textContent = String(hours).padStart(2, '0') + ":" +
            String(minutes).padStart(2, '0') + ":" +
            String(seconds).padStart(2, '0');
    }
}

// Update immediately and then every second
updateCountdown();
setInterval(updateCountdown, 1000);